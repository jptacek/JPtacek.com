<!DOCTYPE html>
<html>
<head>
    <!-- Meta -->
    <meta charset="utf-8"/>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>

    <meta name="description" content="Mobile, Web and JavaScript" />

<title>JPtacek.com - JPtacek.com | Musings on code and who knows what 3ls3</title>
    <meta name="generator" content="DocPad v6.78.4" />
    

    <meta name="author" content="John Ptacek">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="/styles/chemistry.css" rel="stylesheet" />
    <link href="/styles/site.css" rel="stylesheet" />
    <link href="/css/highlight.css" rel="stylesheet" />
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

</head>
<body>

<a href="https://plus.google.com/+JohnPtacek?rel=author" class="google googleplus-hidden" title="Google+">Google+</a>



<div class="navbar navbar-default navbar-static-top">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">John Ptacek</a> <div class="navbar-brand"> - Musings on Code</div>
        </div>
        <div class="collapse navbar-collapse navbar-right">
            <ul class="nav navbar-nav">
                <!--<li><a href="/">Blog</a></li>-->
                
                    <li><a href="/archives/">Archives</a></li>
                
                    <li><a href="/about/">About</a></li>
                
                <li class="hidden-xs">
                    <a href="/feed/index.xml" class="rss"><i class="fa fa-rss fa-lg"></i></a>
                    <a href="https://twitter.com/jptacek" class="twitter"><i class="fa fa-twitter fa-lg"></i></a>
                    <a href="https://plus.google.com/+johnptacek" class="googleplus"><i class="fa fa-google-plus fa-lg"></i></a>
                    <a href="https://linkedin.com/in/johnptacek" class="linkedin"><i class="fa fa-linkedin fa-lg"></i></a>
                    <a href="https://stackoverflow.com/users/39797/john-ptacek" class="stackoverflow"><i class="fa fa-stack-overflow fa-lg"></i></a>
                    <a href="https://github.com/jptacek" class="github"><i class="fa fa-github fa-lg"></i></a>
                </li>
            </ul>
            <form class="navbar-form navbar-right hidden-xs" role="search" action="https://google.com/search"
                  method="get">
                <div class="form-group">
                    <input type="search" name="q" class="form-control" placeholder="Search">
                    <input type="hidden" name="q" value="site:jptacek.com">
                </div>
            </form>
        </div>
    </div>
</div>

<div class="container">
        <div class="col-sm-12 col-md-10">
            
    <article class="post">
    
    <h1><a href='/2015/02/Windows10-Preview/'>Introduction to Windows 10</a></h1>
    
        <div class="post-date">Feb 25th, 2015</div>

    <div class="post-content">
        <p>Microsoft is currently working on the next major release of Windows, called Windows 10. Currently, Windows 10 is in technical preview mode, with millions of people testing it across the world
via their <a href="https://insider.windows.com/">Windows Insider Program</a>. I have been part of the Insider Program for a while now and have been through several releases and thought I would share some initial
impressions of Windows 10.</p>
<h2 id="start-menu">Start Menu</h2>
<p>For most users, one of the biggest changes is the Start Menu is back. In Windows 8, the Start Menu was replaced by the Start Screen. Many users found this disconcerting as you moved back and forth between full screen “Windows Modern” and the traditional desktop mode. Microsoft is addressing this heads on by bringing back the start menu. It is also making the start menu more “modern”, by including Microsoft’s innovative Live Tiles in the start menu.</p>
<p><img src="/2015/02/Windows10-Preview/startScreen.png" alt="Windows 10 Start Screen"></p>
<h2 id="cortana">Cortana</h2>
<p>Microsoft’s Cortana has been a big hit on Windows Phone. It is a voice driven assistant, similar to Google Now or Apple’s Siri. You can click the search icon and “talk” to Cortana and have it perform searches for you. You can even change some settings and say “Hey Cortana” and have it do searches for you.</p>
<p>Cortana also bills itself as a personal digital assistant. It is able to parse through emails and documents and “learn” about you. So if you have a flight on Delta and you say Hey Cortana, Delta, it will show information about you flight.</p>
<p>It also knows I like the Chicago Bulls, so it keeps information front and center. It is also nice enough not to mention that Derick Rose is out for the rest of the season, again.</p>
<p><img src="/2015/02/Windows10-Preview/cortana1.png" alt="Cortana"></p>
<p>Again, all of this code is pre-release and may change, but so far Cortana looks like a great feature for Windows 10.</p>
<h2 id="continuum">Continuum</h2>
<p>One of the biggest issues many people had with Windows 8 was how the tablet/modern mode was so prevalent and jarring in desktop mode. Microsoft is again addressing, heads on, one of the major Win 8 complaints, by including a new feature called Continuum. Continuum is there to make dual use machines like a Microsoft Surface function even better.</p>
<p>Users can decide to go to Tablet Mode, either via the Notification Bar and selecting Tablet Mode or by disconnecting/connecting a keyboard and responding to the prompt. This will then put have your apps run full screen making them more touch friendly and applicable to running on a tablet.</p>
<p><img src="/2015/02/Windows10-Preview/continuum.png" alt="Continuum"></p>
<p><img src="/2015/02/Windows10-Preview/continuum2.png" alt="Continuum"></p>
<p>When you are running in desktop mode, applications are then windowed, including “Modern” apps. Previously, “Modern” apps would run in full screen mode for all users. This is a pretty significant change from Microsoft and highlights how they are enabling users to be productive if they are in tablet mode or desktop mode.
<img src="/2015/02/Windows10-Preview/continuum3.png" alt="Continuum"></p>
<h2 id="universal-apps">Universal Apps</h2>
<p>One of the biggest changes under the hood of Windows promises to be Universal Apps. This is a single platform that enables to developers to develop an application for Windows, Windows Phone and the Xbox One. Microsoft is hoping this will reignite developer interest as the multi platform development opens up many new opportunities.</p>
<h2 id="all-roads-lead-to-build">All Roads Lead to Build</h2>
<p>Microsoft’s Build Conference at the end of April 2015 promises to have A LOT more information on the new version of Windows, especially for developers. We will all know more soon after that. Windows 10 is supposed to be available in the second half of 2015.</p>
<p>This blog post originally appeared at <a href="http://www.skylinetechnologies.com/Blog/Article/2737/Introduction-to-Windows-10.aspx">Skyline Technologies</a>,</p>

    </div>

    
    <div class="post-tags">
        Posted In: <a href='/tags/skyline-technologies/'>Skyline Technologies</a>, <a href='/tags/windows-10/'>Windows 10</a>, <a href='/tags/ephemera/'>Ephemera</a>
    </div>
    
    <br/>
    Help improve this blog by submitting a <a href="https://github.com/jptacek/JPtacek.com/edit/master/src/documents/page/5/index.html.md">pull request.</a><br />

    <p>&nbsp;</p>

</article>

    <article class="post">
    
    <h1><a href='/2015/02/angularJS-Best-Practices/'>AngularJS - Best Practices</a></h1>
    
        <div class="post-date">Feb 18th, 2015</div>

    <div class="post-content">
        <p><a href="http://www.angularjs.org">AngularJS</a> is a Javascript MVC framework from the fine folks over at
<a href="http://www.google.com">Google</a>. The focus of Angular is building complex
 HTML based client applications. Its design philosophy is data first, where your data will be updating the DOM.
 Contrast this to a framework like JQuery where the DOM will update your data.</p>
<p><img src="/2015/02/angularJS-Best-Practices/angularLogo.png" alt="AngularJS Logo"></p>
<p>This is the eleventh in a series of posts on AngularJS where we are using Chemistry data from the periodic table
to help us understand the framework. The others posts are</p>
<ol>
<li><a href="http://www.jptacek.com/2013/10/angularjs-introduction/">AngularJS - Introduction</a></li>
<li><a href="http://www.jptacek.com/2013/10/introducing-angularjs-controllers/">AngularJS - Introducing AngularJS Controllers</a></li>
<li><a href="http://www.jptacek.com/2013/10/angularjs-introducing-ng-repeat/">AngularJS - Introducing NG-Repeat</a></li>
<li><a href="http://www.jptacek.com/2014/01/angularjs-further-with-ng-repeat/">AngularJS - More with NG-Repeat</a></li>
<li><a href="http://www.jptacek.com/2014/01/angularjs-lou-reed/">AngularJS - Image Binding</a></li>
<li><a href="http://www.jptacek.com/2014/02/angularJS-templates/">AngularJS - Introducing Templates</a></li>
<li><a href="http://www.jptacek.com/2014/02/angularJS-IntroToRouting/">AngularJS - Introducing Routing</a></li>
<li><a href="http://www.jptacek.com/2014/05/angularJS-Intro-To-Services/">AngularJS - Introduction to Services</a></li>
<li><a href="http://www.jptacek.com/2014/06/angularJS-intro-to-directives/">AngularJS - Introduction to Directives</a></li>
<li><a href="http://jptacek.com/2014/12/angularJS-further-with-directives/">AngularJS - Further with Directives</a></li>
<li>AngularJS - Best Practices</li>
<li><a href="http://jptacek.com/2015/03/angularJS-CSS-Animation/">AngularJS - CSS Animations</a></li>
</ol>
<blockquote>
<p>Note: AngularJS does not allow for more than one ng-app directive. When I have multiple angular posts on
the home page of my blog, only one application will work. I need to refactor the entire site to account for
this. All of that to say this, you are best clicking on a single article so you can see the pages in action.</p>
</blockquote>
<p>This blog series on AngularJS has been going on for a while, since October 2013 to be exact. In that time, AngularJS
has changed and best practices have emerged. I thought it would be worth taking a look at the current state of best
practices and refactoring some of the code we have been working on to reflect that.</p>
<p>To start off, there are people a lot smarter than me thinking about this stuff. Some of these folks work at Google and
they have published a style guide you can find at the
<a href="http://google-styleguide.googlecode.com/svn/trunk/angularjs-google-style.html">Google Code site</a>.
The Google Style Guide is a good start, but it it not as complete as some I have run across. It also is heavily focused
on <a href="https://developers.google.com/closure/">Closure</a>, a Google toolset that not everybody is invested in.</p>
<p>A second great resource is <a href="http://toddmotto.com/">Todd Motto&#39;s</a> AngularJS Style Guide. Todd has a
<a href="http://toddmotto.com/opinionated-angular-js-styleguide-for-teams/">blog post</a> where he introduces his reasoning for some
of his choices. Cooler yet, he has a <a href="https://github.com/toddmotto/angularjs-styleguide">GitHub repository</a>
 that he keeps up to date with his latest set of changes and reasoning behind them.</p>
<p>A third resource is from <a href="http://www.johnpapa.net/">John Papa</a>, one time Microsoft evangelist and Google Developer
Expert. Like Todd, John has a GitHub repo with his <a href="https://github.com/johnpapa/angularjs-styleguide">Style Guide</a>.</p>
<p>The great thing about what both Todd and John have done by putting their Style Guides on GitHub is that it makes it
easy to make one of them YOUR Style Guide. Clone the repo and publish within your organization. It is a great way to get
started and introduce consistency within your organization.</p>
<p>I have decided to gnerally follow the style guide setup by John Papa. I find his
<a href="http://www.pluralsight.com/author/john-papa">Pluralsight courses</a> to be
great resources for developers and you have to start some place.</p>
<p>###IIFE###
The first thing we are going to do to our code is to rework how our code to implement IIFEs. IIFEs stand for Immediately-Invoked
Function Expressions, pronounced &#39;iify&#39;. This is a standard JavaScript best practice to isolate scope of functions.
JavaScript has a single execution scope, as you  load more and more libraries and variables, you run into the &quot;opportunity&quot;
for name collisions. This makes for a very painful day of code debugging.</p>
<p>IIFEs then are a common pattern to use to avoid polluting the namespace. It works to keep all of the variables
localized to the scope of the function being executed. We also end up being able to optimize minification, since our
variables are localized.</p>
<p>The general syntax of an IIFE is</p>
<pre class="highlight"><code class="hljs javascript">(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
   <span class="hljs-comment">/* code */</span>
})();
</code></pre>
<p>The function executes immediately, thanks to the parens at the end of the function call.</p>
<p>We have been bad programmers in our code examples, so we will clean this up and be better moving forward. This
ends with us reworking our JavaScript code. Here is a before/after example for our app.js file.</p>
<p>Before:</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-pi">'use strict'</span>;

<span class="hljs-keyword">var</span> chemistryApp = angular.module(<span class="hljs-string">'chemistryApp'</span>, []);
</code></pre>
<p>After:</p>
<pre class="highlight"><code class="hljs javascript">(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
<span class="hljs-pi">    'use strict'</span>;

 <span class="hljs-keyword">var</span> chemistryApp = angular.module(<span class="hljs-string">'chemistryApp'</span>, []);
})();
</code></pre>
<p>Ben Alman is credited with nameing IIFEs in this <a href="http://benalman.com/news/2010/11/immediately-invoked-function-expression/">blog post</a>
if you want more information</p>
<p>###Getter/Setter###
The next step we want to take to improve our code is how we are creating and referencing our module. Initially we were
using code based on AngularJS.com samples, where we declare a module as a variable, for example:</p>
<pre class="highlight"><code class="hljs javascript"> <span class="hljs-keyword">var</span> chemistryApp = angular.module(<span class="hljs-string">'chemistryApp'</span>, []);
</code></pre>
<p>The recommendation, straight from the <a href="https://docs.angularjs.org/guide/module">Angular site</a> is to use the getter
syntax at all times. The syntax above, will create the module each time, overwriting the existing one.</p>
<p>Getter syntax for the module enables us to retrieve an existing module. We rework our <code>app.js</code> to now incorporate
both IIFE and setter syntax to become</p>
<pre class="highlight"><code class="hljs javascript">(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
<span class="hljs-pi">    'use strict'</span>;

    angular
    .module(<span class="hljs-string">'chemistryApp'</span>,[]);
})();
</code></pre>
<p>###Named Functions###
Next, we are going to rework our code to utilize named functions, mostly for code readability as it reduces the amount
of callback functions in our code.</p>
<p>For our Controller definition we could define our function with a callback as</p>
<pre class="highlight"><code class="hljs javascript">(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
<span class="hljs-pi">    'use strict'</span>;

    angular
        .module(<span class="hljs-string">'chemistryApp'</span>)
        .controller(<span class="hljs-string">'chemistryController'</span>, [<span class="hljs-string">'$scope'</span>, <span class="hljs-string">'chemistryService'</span>, <span class="hljs-string">'$log'</span>,
            <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">chemistryController</span><span class="hljs-params">($scope, chemistryService, $log)</span> </span>{


        <span class="hljs-comment">// some code</span>
      }]
    )
})();
</code></pre>
<p>However, the nesting can make long term code maintenance and readability more cumbersome. A better approach is</p>
<pre class="highlight"><code class="hljs javascript">(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
<span class="hljs-pi">    'use strict'</span>;

    angular
        .module(<span class="hljs-string">'chemistryApp'</span>)
        .controller(<span class="hljs-string">'chemistryController'</span>,chemistryController);

      <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">chemistryController</span><span class="hljs-params">($scope,  chemistryService,$log)</span> </span>{

        <span class="hljs-comment">// some code</span>


    }

})();
</code></pre>
<p>###Dependency Injection###
AngularJS has a great Dependency Injection (DI) framework. The way we have the code working above can cause some issues
with things like bundling and minification. When minification tools rename our DI functions, they may not be found
by Angular. As a result, you should explicitly identify DI functions to avoid this.</p>
<p>One way to do is to rework function calls such as</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
<span class="hljs-pi">    'use strict'</span>;

    angular
        .module(<span class="hljs-string">'chemistryApp'</span>)
        .controller(<span class="hljs-string">'chemistryController'</span>,chemistryController);

      <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">chemistryController</span><span class="hljs-params">($scope,  chemistryService,$log)</span> </span>{

        <span class="hljs-comment">// some code</span>


    }

})();
</code></pre>
<p>to identify what is being injected. You need to be sure to map up parameters properly, or all kinds of madness will
ensue</p>
<pre class="highlight"><code class="hljs javascript">(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
<span class="hljs-pi">     'use strict'</span>;

     angular
         .module(<span class="hljs-string">'chemistryApp'</span>)
         .controller(<span class="hljs-string">'chemistryController'</span>,
         [<span class="hljs-string">'$scope'</span>, <span class="hljs-string">'chemistryService'</span>,<span class="hljs-string">'$log'</span>,chemistryController]);

       <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">chemistryController</span><span class="hljs-params">($scope,  chemistryService,$log)</span> </span>{

         <span class="hljs-comment">// some code</span>


     }

 })();
</code></pre>
<p>Another, better and recommended approach, is to use the <code>$inject</code> function to explicitly identify what is being
injected.</p>
<pre class="highlight"><code class="hljs javascript">(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
<span class="hljs-pi">    'use strict'</span>;

    angular
        .module(<span class="hljs-string">'chemistryApp'</span>)
        .controller(<span class="hljs-string">'chemistryController'</span>,chemistryController);

    chemistryController.$inject =  [<span class="hljs-string">'$scope'</span>, <span class="hljs-string">'chemistryService'</span>,<span class="hljs-string">'$log'</span>];

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">chemistryController</span><span class="hljs-params">($scope,  chemistryService,$log)</span> </span>{

         <span class="hljs-comment">// some code</span>


    }

})();
</code></pre>
<p>The reasons for this approach are the same as above, bypassing minfication issues. This approach though is more
explicit and makes the code more readable.</p>
<p>###Explicit function declarations###
Another good practice is to explicitly identify function definitions. If we look at our original service function
the structure was</p>
<pre class="highlight"><code class="hljs javascript">chemistryApp.service(<span class="hljs-string">'chemistryService'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{

    <span class="hljs-keyword">var</span> getCssClassElement = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">( elementType)</span> </span>{
        <span class="hljs-comment">// code</span>
    };

    <span class="hljs-keyword">var</span> getElements = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{

        <span class="hljs-comment">// code</span>

        <span class="hljs-keyword">return</span> periodicData.elements;


    };

    <span class="hljs-keyword">return</span> {
        getCssClassElement : getCssClassElement,
        getElements: getElements
    };
});
</code></pre>
<p>which is kind of what we want. One of the places where Papa and Motto differ on their approaches though is WHERE
the function declarations should happen. Papa prefers that start of the service and Motto towards the bottom. I lean
towards the Papa approach because I can explicitly see my &quot;public interfaces&quot; for the function. This is ultimately
what we want to be testable in our code. However, the downside is some scrolling to get to the implementation details.
Ultimately, make a choice and be consistent.</p>
<pre class="highlight"><code class="hljs javascript">(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
<span class="hljs-pi">    'use strict'</span>;

    angular
        .module(<span class="hljs-string">'chemistryApp'</span>)
        .service(<span class="hljs-string">'chemistryService'</span>,chemistryService);

    <span class="hljs-function"><span class="hljs-keyword">function</span>  <span class="hljs-title">chemistryService</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> {
            getCssClassElement: getCssClassElement,
            getElements: getElements
        };

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getCssClassElement</span><span class="hljs-params">(elementType)</span> </span>{
            <span class="hljs-comment">// some code</span>
        };

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getElements</span><span class="hljs-params">()</span> </span>{

            <span class="hljs-comment">// some code</span>

        };
    }
})();
</code></pre>
<p>###Directory Structure###
Next up is best practices for directory structure. Ultimately, we are not going to refactor this code to reflect this best
practice. However, in the real world, where I do this for a living, I definitely follow the practice outlined below.
What we have here is too small.</p>
<p>Initially, when you start creating an Angular app, most people start by organizing my folders by the type of code they are writing.
This results in a folder for controllers, one for services, directives, etc. This can work at the beginning, but by the
the time you are working on a large app, it becomes difficult. Having 15 controller functions in a directory, then
searching for the corresponding service functions in another directory is NOT efficient.</p>
<p>Instead, the recommendation is to organize folders by function. For example, if you have a sports application you
would have a baseball folder with controller, service and directive files in that directory applicable to baseball.
All the functionality is
concisely gathered in a single folder location. Much easier.</p>
<p>###Wrapping Up###
I have reworked the code for the app we have been talking about to reflect the best practices outlined above. The
functionality is the same as last time, but ultimately, a bit more maintainable long term and less likely to run
into issues with minification and bundling. The app doesn&#39;t look a whole lot different though, which is a good thing.</p>
<p>Ultimately, the goals of what we are doing is to make the code more explicit, more readable and ultimately more
maintainable. Both Papa and Motto have great approaches and styles. Pick what works for you and be cosistent within
your projects and teams.</p>
<div id="app" ng-app="chemistryApp">
    <div class="container" ng-controller="chemistryController">

      <div class="row">
          <select ng-model="periodicElement" ng-options="e.name for e in elements"></select><br>
      </div>
      <div class="row">
          &nbsp;
      </div>
      <div class="row">
          &nbsp;
      </div>
      <div class="row">
          <div class="col-md-2">
              <periodic-chart-element element="periodicElement"></periodic-chart-element>
          </div>
          <div class="col-md-2">
              &nbsp;
          </div>
          <div class="col-md-2">
              <periodic-chart-element element="elements[periodicElement.atomicNumber]"></periodic-chart-element>
          </div>
          <div class="col-md-2">
              &nbsp;
          </div>
          <div class="col-md-2">
              <periodic-chart-element element="elements[periodicElement.atomicNumber+1]"></periodic-chart-element>
          </div>
      </div>
    </div>
</div>


<p>I have created an Azure Website to host all of this code at <a href="http://angularperiodic.azurewebsites.net/">http://angularperiodic.azurewebsites.net/</a></p>
<p>The code is also available on <a href="https://github.com/jptacek/AngularPeriodic">GitHub</a>
</p>
<link href="/2015/02/angularJS-Best-Practices/css/animate.css" rel="stylesheet">
    </div>

    
    <div class="post-tags">
        Posted In: <a href='/tags/angularjs/'>AngularJS</a>, <a href='/tags/javascript/'>JavaScript</a>, <a href='/tags/web/'>Web</a>
    </div>
    
    <br/>
    Help improve this blog by submitting a <a href="https://github.com/jptacek/JPtacek.com/edit/master/src/documents/page/5/index.html.md">pull request.</a><br />

    <p>&nbsp;</p>

</article>

    <article class="post">
    
    <h1><a href='/2015/01/moving-docpad-to-github-pages/'>Hosting a DocPad Site on GitHub Pages</a></h1>
    
        <div class="post-date">Jan 16th, 2015</div>

    <div class="post-content">
        <p>I am a fan, a HUGE fan, of Microsoft&#39;s <a href="http://azure.microsoft.com/">Azure</a> platform, especially their Azure Websites.
This blog, <a href="/2015/01/moving-docpad-to-github-pages/jptacek.com">jptacek.com</a> has been hosted
on Azure for several iterations. First as a blog on WordPress, and later, as a blog being generated using
<a href="https://docpad.org/">DocPad</a>. Feel
free to follow my <a href="http://jptacek.com/tags/wordpress/">Wordpress</a> and <a href="http://jptacek.com/tags/docpad/">DocPad</a>
adventures. Further, when I speak at events, I often say the subtitle of my talk should be
&quot;Azure, a love story&quot;. It is awesome and it
is a great tool for developers.</p>
<p>The only thing that causes me a slight measure of discomfort is that it costs actual money to host my blog on Azure.
I am fine paying money, especially
for things I think are awesome, like Azure. However, my site, after migrating to DocPad is pretty stupid, it is just
static HTML. Having a server for that can be a bit of overkill.</p>
<p>Enter <a href="http://www.github.com">GitHub</a>.</p>
<p><img src="/2015/01/moving-docpad-to-github-pages/githubpages.jpg" alt="GitHub pages"></p>
<p>They have a platform for serving up static HTML. I think the thing that first
time I had a seed planted was a <a href="http://haacked.com/archive/2013/12/02/dr-jekyll-and-mr-haack/">blog post</a>
that <a href="https://twitter.com/Haacked">Phil Haack</a> did about moving his personal blog
to GitHub Pages. In it, he steals a
tweet from <a href="https://twitter.com/holman">Zach Holman</a>, one of his GitHub colleagues.</p>
<blockquote>
<p>@haacked the ops team gets paged when <a href="http://zachholman.com">http://zachholman.com</a> is down. You still have a lot to learn, buddy</p>
</blockquote>
<p>I thought that was a pretty good line. I also realize it is the same thing Microsoft does on their cloud platform, but
it DID inspire me to dig a bit more into GitHub pages. At the time I looked, it was pretty focused on Jekyll, which
I shied away from it based on its Ruby background (more info about my decision
<a href="http://jptacek.com/2013/12/saying-hello-to-docpad/">here</a> ). A year later though, I have gotten a bit more
comfortable with DocPad, and have a workflow to get my pages published to GitHub Pages.</p>
<p>What are GitHub Pages? They are public webpages that are hosted on GitHub&#39;s infrastructure. They do NOT support
HTTPS, so you won&#39;t want to host eCommerce sites on it. However, for blogs and other public content they work great.
You can use Jekyll, which is a Ruby based static site generator. It is similar to DocPad. One benefit of using Jekyll
with GitHub pages though is that you can check in your posts into your GitHub repository and it will automatically
generate the site for you.</p>
<p>There are two types of GitHub pages, User/Organization and Project sites. This blog, <a href="http://jptacek.com">JPtacek.com</a>
is a User site. For User/Organization pages, GitHub will take content committed to the repository <em>username</em>.github.io,
where <em>username</em> is a user&#39;s GitHub account. For me, this essentially means I check in my content to a the GitHub repository
<a href="/2015/01/moving-docpad-to-github-pages/jptacek.github.io">https://github.com/jptacek/jptacek.github.io</a>. HTML content checked into this repository is then
automatically deployed to a static site at the URL <a href="/2015/01/moving-docpad-to-github-pages/jptacek.github.io">https://jptacek.github.io</a>. You can find out
more about this at GitHubs site <a href="https://pages.github.com/">https://pages.github.com/</a>.</p>
<p>It is worth noting that GitHub Pages User/Organization pages get checked into the master branch of the repository.
GitHub project sites, which are for, wait for it....., projects, are a bit different. One of those differences is that
they have content checked into the GHPages branch of the project.</p>
<p>So far, so good. However, the site has been living at a specific domain for a while, which I would really like to
continue to use. Of course, GitHub pages also supports custom domain names for a site. Instructions are
<a href="https://help.github.com/articles/setting-up-a-custom-domain-with-github-pages/">available</a> online. Essentially though,
it is pretty slick and quick to do. You check in a single file called CNAME (all caps) into your <em>username</em>.github.io
repository. This file should be in the root of your repository and have the URL of the site, in my case, www.jptacek.com,
without any http:// in front. After committing your changes you can click settings in your repository</p>
<p><img src="/2015/01/moving-docpad-to-github-pages/settings1.png" alt="Click settings"></p>
<p>and you can then verify the URL is set</p>
<p><img src="/2015/01/moving-docpad-to-github-pages/settings2.png" alt="Verify"></p>
<p>We have GitHub all set to serve up our requests, but now we need to actually do some work with DNS to do that. I use
<a href="https://dnsimple.com/">DNSimmple</a> to manage my DNS. Part of the neat things about DNSimple is they keep it simple :).
There is a template setup for you to enable GitHub pages already present. It will add an Alias record for you and
you are on your way</p>
<p><img src="/2015/01/moving-docpad-to-github-pages/dnSimple.png" alt="DNSimple"></p>
<p>So we have a site ready to go and it is live on the Internet, but we need content! Previously, through the magic of
Azure, I would check in my blog content as a markdown file, Azure would read the check ins from my GitHub repository,
download appropriate NPM pacakges, compile my markdown to static HTML and publish a site. All pretty cool. That is gone
now. So instead of having the cloud compile my markdown, I am now doing it all local. This is the main negative for me
about moving to GitHub pages, but sometimes freedom has a cost :).</p>
<p>Since I will be dealing with two GitHub repositories, I reworked my workflow a bit. My site, and all of it&#39;s content
and DocPad assets lives in GitHub at <a href="https://github.com/jptacek/JPtacek.com">https://github.com/jptacek/JPtacek.com</a>
and my static blog content, needs to be in
<a href="https://github.com/jptacek/jptacek.github.io">https://github.com/jptacek/jptacek.github.io</a> to get published to
GitHub Pages. What I have done is reworked a couple of things with DocPad to support this. Previously, I had
my repository checked out locally to a directory called JPtacek.com. What I have done is keep this as the root
directory and created two subdirectories within there. The first directory, BlogSource, is the DocPad repository which
will be responsible for generating my static content from markdown files. I cloned my GitHub
<a href="/2015/01/moving-docpad-to-github-pages/JPtacek.com">https://github.com/jptacek/JPtacek.com</a> repository here. The second directory, ghpages, is where
I cloned the <a href="/2015/01/moving-docpad-to-github-pages/jptacek.github.io">https://github.com/jptacek/jptacek.github.io</a> repository.</p>
<p><img src="/2015/01/moving-docpad-to-github-pages/directory.png" alt="Direcotry"></p>
<p>The next step is to be able to generate the content locally so I can push my static content from my local drive
to the <a href="/2015/01/moving-docpad-to-github-pages/jptacek.github.io">https://github.com/jptacek/jptacek.github.io</a> repository. This was done by updating my
DocPad environment a bit. In the DocPad configuration file, <code>docpad.coffee</code>, I created two environments, one
for local development, the default way I had been using DocPad previously before, and a second for static. The
static environment is what I use when I want to publish a new blog post. The main thing to note is the configuration setting for
<code>outPath</code>, which points up a directory level from where my DocPad environment is (the <code>BlogSource</code>) directory and
publishes files to the github.io directory(<code>ghpages</code>).</p>
<p>I can run this command by typing <code>docpad -e static generate</code>. After running DocPad and generating the static
content I am a commit and a push away from an updated website!</p>
<pre class="highlight"><code class="hljs javascript">#docpad -e static generate
  environments:
    static:
      outPath: <span class="hljs-string">'../ghpages'</span>
      collections:   posts: -&gt;
        @getCollection(<span class="hljs-string">"html"</span>).findAllLive({layout: <span class="hljs-string">'post'</span>},[{date:-<span class="hljs-number">1</span>}])
    development:
      outPath: <span class="hljs-string">'.out'</span>
      collections:
        posts: -&gt;
          @getCollection(<span class="hljs-string">'documents'</span>).findAllLive({layout: {<span class="hljs-string">'$in'</span> : [<span class="hljs-string">'post'</span>, <span class="hljs-string">'drafts'</span>]}}, [layout: <span class="hljs-number">1</span>,  date: -<span class="hljs-number">1</span>])
</code></pre>
<p>So in closing, my site is no longer hosted on Azure, but GitHub pages and it wasn&#39;t too painful. I am now saving $10-15
a month. This will translate to more coffee.</p>
<p>A high level overview about the pros and cons.</p>
<p>Pros about GitHub Pages</p>
<ul>
<li>Free! Azure was costing from $10-$15/month</li>
<li>Bypass some CPU usage limits on Azure</li>
</ul>
<p>Cons about GitHub Pages</p>
<ul>
<li>Cannot automatically build sites from Git commits</li>
<li>No IPV6 support (issue with Azure Websites currently)</li>
<li>No SSL support</li>
</ul>

    </div>

    
    <div class="post-tags">
        Posted In: <a href='/tags/docpad/'>DocPad</a>, <a href='/tags/dnsimple/'>DNSimple</a>, <a href='/tags/github/'>GitHub</a>
    </div>
    
    <br/>
    Help improve this blog by submitting a <a href="https://github.com/jptacek/JPtacek.com/edit/master/src/documents/page/5/index.html.md">pull request.</a><br />

    <p>&nbsp;</p>

</article>


<div class="page-nav">
    
    <a class="page-nav-older" href="/page/6/"><span class="icon icon-arrow-left-2"></span> Older</a>
    
    
    <a class="page-nav-newer" href="/page/4/">Newer <span class="icon icon-arrow-right-2"></span></a>
    
    <div class="page-nav-archives"><a href="/archives/">- Blog Archives -</a></div>
</div>

<div id="me">
    <p>
        <img src="/images/Headshot-Square.png" alt="John Ptacek" />
        I'm <b>John Ptacek</b>, a software developer for <a href="http://www.SkylineTechnologies.com">Skyline Technologies</a>.
        This blog is my contains my content and opinions, which are not those of my employer.
    </p>
    <p>Currently, I am reading 
        <a href="https://www.goodreads.com/book/show/567704.Imajica">Imajica</a>
        by <a href="http://www.clivebarker.info">Clive Barker</a></p>
    <p>
        <a href="https://twitter.com/jptacek">@jptacek</a> &#8226;
        <a href="https://github.com/jptacek">GitHub</a> &#8226;
        <a href="https://www.linkedin.com/in/JohnPtacek/">LinkedIn</a> &#8226;
        <a href="https://stackoverflow.com/users/39797/john-ptacek">Stack Overflow</a> &#8226;
        <a href="https://plus.google.com/+JohnPtacek">Google+</a>
    </p>
</div>

        </div>
</div>

<div class="container">
    <div class="navbar navbar-footer">
        <p class="navbar-center navbar-text">Content copyright &copy; 2016 John Ptacek</p>
    </div>
</div>



    <script type="text/javascript" src="/vendor/angular/angular.min.js"></script>
    <script type="text/javascript" src="/vendor/angular-route/angular-route.min.js"></script>
    <script type="text/javascript" src="/vendor/angular-animate/angular-animate.min.js"></script>

 

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
    <script src="/scripts/site.js"></script>



    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-34910017-1']);
    _gaq.push(['_setDomainName', 'jptacek.com']);
    _gaq.push(['_trackPageview']);
    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
</script>

</body>
</html>
